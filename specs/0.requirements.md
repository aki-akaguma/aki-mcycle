# `aki-mcycle` Requirements

## 1. Overview

`aki-mcycle` is a command-line utility that reads text from standard input, finds parts of the text that match a given regular expression, and then applies a cycling sequence of colors to each match before printing the result to standard output.

## 2. Functional Requirements

### 2.1. Core Functionality
- **FR1:** The application MUST read text input from standard input (stdin).
- **FR2:** The application MUST search the input text for all non-overlapping matches of a specified regular expression.
- **FR3:** The application MUST apply a sequence of colors to the matched text segments in a cyclical order.
- **FR4:** The application MUST print the processed text to standard output (stdout), with the matched segments colored according to the cycle.
- **FR5:** If no matches are found, the application MUST print the original text unmodified.

### 2.2. Command-Line Interface (CLI)
- **FR6:** The application MUST provide a command-line option to specify the regular expression for matching.
    - Option: `-e`, `--exp <exp>`
    - The `<exp>` parameter is the regular expression string.
- **FR7:** A default regular expression, `' ([0-9A-Z]{3,}):'`, MUST be used if the `-e` or `--exp` option is not provided.
- **FR8:** The application MUST provide a help message when invoked with the `-H` or `--help` flag.
- **FR9:** The application MUST display its version information when invoked with the `-V` or `--version` flag.

### 2.3. Colorization
- **FR10:** The default color cycle sequence MUST be: Red, Green, Blue, Cyan, Magenta, Yellow.
- **FR11:** The application MUST allow customization of the ANSI color escape sequences via environment variables.

## 3. Non-Functional Requirements

- **NFR1:** The application must be compatible with Rust version 1.65.0 and later.
- **NFR2:** The application should process input streams efficiently.

## 4. Environment Variable Configuration

The following environment variables can be used to customize the ANSI escape codes for the color sequence.

- `AKI_MCYCLE_COLOR_SEQ_RED_ST`: Sets the start sequence for the color red.
- `AKI_MCYCLE_COLOR_SEQ_GREEN_ST`: Sets the start sequence for the color green.
- `AKI_MCYCLE_COLOR_SEQ_BLUE_ST`: Sets the start sequence for the color blue.
- `AKI_MCYCLE_COLOR_SEQ_CYAN_ST`: Sets the start sequence for the color cyan.
- `AKI_MCYCLE_COLOR_SEQ_MAGENDA_ST`: Sets the start sequence for the color magenta.
- `AKI_MCYCLE_COLOR_SEQ_YELLOW_ST`: Sets the start sequence for the color yellow.
- `AKI_MCYCLE_COLOR_SEQ_ED`: Sets the end sequence for all colors.
